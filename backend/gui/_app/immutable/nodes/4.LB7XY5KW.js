import{n as q,j as Ut,B as Ht,C as Rt,x as He,p as zt,s as ge,b as Ce,c as we,r as Ge,e as Ee,l as Lt,D as We,a as Oe,o as qt}from"../chunks/scheduler.2u-IS242.js";import{L as Ft,M as Gt,N as Wt,O as Zt,H as De,r as U,F as Ie,t as B,S as ve,i as me,e as m,o as G,c as b,b as C,p as W,h as g,j as v,k as V,q as Z,u as X,s as D,g as P,d as I,l as f,n as $e,x as Ne,v as N,w as T,y as L,m as M,P as Ze,G as Xe,Q as Tt,J as Re,D as Fe,C as ue,B as Je,R as ze}from"../chunks/index.6e14F-yC.js";import{c as Xt,a as pe,S as Te,f as Jt}from"../chunks/SingleBox.2-2j0jYq.js";import{p as Se,a as Le,e as Ke,i as Kt}from"../chunks/utils.6ZWUAGcy.js";import{w as Vt}from"../chunks/index.Zun0J0fK.js";import{e as J,u as ot,f as it}from"../chunks/each.osoN_7aC.js";import{F as qe}from"../chunks/FancyBox.tPH7n3gv.js";function St(r,e,t,l){if(!e)return q;const n=r.getBoundingClientRect();if(e.left===n.left&&e.right===n.right&&e.top===n.top&&e.bottom===n.bottom)return q;const{delay:s=0,duration:a=300,easing:o=Ut,start:u=Ft()+s,end:i=u+a,tick:c=q,css:h}=t(r,{from:e,to:n},l);let _=!0,d=!1,$;function k(){h&&($=Wt(r,0,1,a,s,o,h)),s||(d=!0)}function y(){h&&Zt(r,$),_=!1}return Gt(p=>{if(!d&&p>=u&&(d=!0),d&&p>=i&&(c(1,0),y()),!_)return!1;if(d){const w=p-u,x=0+1*o(w/a);c(x,1-x)}return!0}),k(),c(0,1),y}function Ot(r){const e=getComputedStyle(r);if(e.position!=="absolute"&&e.position!=="fixed"){const{width:t,height:l}=e,n=r.getBoundingClientRect();r.style.position="absolute",r.style.width=t,r.style.height=l,Qe(r,n)}}function Qe(r,e){const t=r.getBoundingClientRect();if(e.left!==t.left||e.top!==t.top){const l=getComputedStyle(r),n=l.transform==="none"?"":l.transform;r.style.transform=`${n} translate(${e.left-t.left}px, ${e.top-t.top}px)`}}function Qt(r,e){const t=e.token={};function l(n,s,a,o){if(e.token!==t)return;e.resolved=o;let u=e.ctx;a!==void 0&&(u=u.slice(),u[a]=o);const i=n&&(e.current=n)(u);let c=!1;e.block&&(e.blocks?e.blocks.forEach((h,_)=>{_!==s&&h&&(De(),U(h,1,1,()=>{e.blocks[_]===h&&(e.blocks[_]=null)}),Ie())}):e.block.d(1),i.c(),B(i,1),i.m(e.mount(),e.anchor),c=!0),e.block=i,e.blocks&&(e.blocks[s]=i),c&&zt()}if(Ht(r)){const n=Rt();if(r.then(s=>{He(n),l(e.then,1,e.value,s),He(null)},s=>{if(He(n),l(e.catch,2,e.error,s),He(null),!e.hasCatch)throw s}),e.current!==e.pending)return l(e.pending,0),!0}else{if(e.current!==e.then)return l(e.then,1,e.value,r),!0;e.resolved=r}}const Ye=Vt({number:0,index:0,elements:[]}),Yt=()=>{Ye.update(r=>(r.index=Math.min(r.index+1,r.elements.length-1),r))};let Pt=[],Bt=[];const el=()=>{Ye.update(r=>({number:r.number,index:r.index,elements:Pt.concat(Bt).sort((e,t)=>e.initiative>t.initiative?1:-1)}))};Se.subscribe(r=>{r!=null&&(Pt=r.map(e=>({characterName:e.name,initiative:e.initiative,position:"pc"})))});Le.subscribe(r=>{r!=null&&(console.log("Updateing player order by values",r),Bt=Array.from(r.values()).map(e=>({characterName:e.name,initiative:e.initiative,position:"npc"})))});const tl=async()=>{console.log("Loading data...");const r="http://localhost:8070/api",e=async()=>{fetch(r+"/enemy/instances/all",{method:"GET"}).then(n=>{if(n.ok)return n.json();throw new Error("Something went wrong while fetching enemies")}).then(n=>{Le.update(()=>(console.log("Enemies: ",n),n))}).catch(n=>{alert(n),console.log(n)})},t=async()=>{fetch(r+"/player/all",{method:"GET"}).then(n=>{if(n.ok)return n.json();throw new Error("Something went wrong while fetching enemies")}).then(n=>{Se.update(()=>(console.log("Players: ",n),n))}).catch(n=>{alert(n),console.log(n)})},l=async()=>{fetch(r+"/enemy/all",{method:"GET"}).then(n=>{if(n.ok)return n.json();throw new Error("Something went wrong while fetching enemies")}).then(n=>{Ke.update(()=>{let s=new Map;return n.forEach(a=>s.set(a.name,a)),console.log("Base Enemy Map: ",s),s})}).catch(n=>{alert(n),console.log(n)})};return Promise.all([l(),e(),t()]).then(n=>el())};var At=(r=>(r[r.Damage=0]="Damage",r[r.Heal=1]="Heal",r))(At||{});const ll=[{source:"Horst",targets:["Ork 1"],type:0,amount:999.9},{source:"Horst",targets:["Ork 1"],type:0,amount:999.9},{source:"Ork 1",targets:["Ork 1"],type:1,amount:999.9},{source:"Horst",targets:["Ork 1"],type:0,amount:999.9},{source:"Horst",targets:["Ork 1"],type:0,amount:999.9},{source:"Horst",targets:["Ork 1"],type:0,amount:999.9},{source:"Horst",targets:["Ork 1"],type:0,amount:999.9},{source:"Horst",targets:["Ork 1"],type:0,amount:999.9},{source:"Horst",targets:["Ork 1"],type:0,amount:999.9},{source:"Horst",targets:["Ork 1"],type:0,amount:999.9}],jt=r=>r.length<=0?r[0]:r.join(", ");function nl(r,e,t){const l=r.slice();return l[3]=e[t],l}function sl(r){let e,t=r[3].source+"",l,n,s,a=jt(r[3].targets)+"",o,u,i=r[3].type+"",c,h,_=r[3].amount+"",d,$;return{c(){e=m("span"),l=N(t),n=N(` healed
								`),s=m("span"),o=N(a),u=N(`
								(`),c=N(i),h=D(),d=N(_),$=N(`)
							`),this.h()},l(k){e=b(k,"SPAN",{});var y=C(e);l=T(y,t),n=T(y,` healed
								`),s=b(y,"SPAN",{class:!0});var p=C(s);o=T(p,a),p.forEach(g),u=T(y,`
								(`),c=T(y,i),h=I(y),d=T(y,_),$=T(y,`)
							`),y.forEach(g),this.h()},h(){v(s,"class","text-green-500")},m(k,y){V(k,e,y),f(e,l),f(e,n),f(e,s),f(s,o),f(e,u),f(e,c),f(e,h),f(e,d),f(e,$)},d(k){k&&g(e)}}}function rl(r){let e,t=r[3].source+"",l,n,s,a=jt(r[3].targets)+"",o,u,i=r[3].type+"",c,h,_=r[3].amount+"",d,$;return{c(){e=m("span"),l=N(t),n=N(` attacked
								`),s=m("span"),o=N(a),u=N(`
								(`),c=N(i),h=D(),d=N(_),$=N(`)
							`),this.h()},l(k){e=b(k,"SPAN",{});var y=C(e);l=T(y,t),n=T(y,` attacked
								`),s=b(y,"SPAN",{class:!0});var p=C(s);o=T(p,a),p.forEach(g),u=T(y,`
								(`),c=T(y,i),h=I(y),d=T(y,_),$=T(y,`)
							`),y.forEach(g),this.h()},h(){v(s,"class","text-red-500")},m(k,y){V(k,e,y),f(e,l),f(e,n),f(e,s),f(s,o),f(e,u),f(e,c),f(e,h),f(e,d),f(e,$)},d(k){k&&g(e)}}}function al(r){let e;function t(s,a){return s[3].type===At.Damage?rl:sl}let n=t(r)(r);return{c(){n.c(),e=Ne()},l(s){n.l(s),e=Ne()},m(s,a){n.m(s,a),V(s,e,a)},p:q,d(s){s&&g(e),n.d(s)}}}function ct(r){let e,t="▼";return{c(){e=m("div"),e.textContent=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-1rmhk07"&&(e.textContent=t),this.h()},h(){v(e,"class","absolute bottom-0 left-[50%] -translate-x-2/4")},m(l,n){V(l,e,n)},d(l){l&&g(e)}}}function ol(r){let e,t,l,n="Combat Log",s,a,o,u=J(ll),i=[];for(let h=0;h<u.length;h+=1)i[h]=al(nl(r,u,h));let c=r[1]&&ct();return{c(){e=m("div"),t=m("div"),l=m("h1"),l.textContent=n,s=D(),a=m("div");for(let h=0;h<i.length;h+=1)i[h].c();o=D(),c&&c.c(),this.h()},l(h){e=b(h,"DIV",{class:!0});var _=C(e);t=b(_,"DIV",{class:!0});var d=C(t);l=b(d,"H1",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-vnc9b8"&&(l.textContent=n),s=I(d),a=b(d,"DIV",{class:!0});var $=C(a);for(let k=0;k<i.length;k+=1)i[k].l($);$.forEach(g),d.forEach(g),o=I(_),c&&c.l(_),_.forEach(g),this.h()},h(){v(l,"class","heading w-full text-xl"),v(a,"class","mb-2 flex flex-col p-1"),v(t,"class","h-full overflow-scroll px-4"),v(e,"class","relative h-full")},m(h,_){V(h,e,_),f(e,t),f(t,l),f(t,s),f(t,a);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(a,null);r[2](t),f(e,o),c&&c.m(e,null)},p(h,_){h[1]?c||(c=ct(),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(h){h&&g(e),$e(i,h),r[2](null),c&&c.d()}}}function il(r){let e,t,l;return t=new qe({props:{grow:!0,$$slots:{default:[ol]},$$scope:{ctx:r}}}),{c(){e=m("div"),G(t.$$.fragment),this.h()},l(n){e=b(n,"DIV",{class:!0});var s=C(e);W(t.$$.fragment,s),s.forEach(g),this.h()},h(){v(e,"class","flex h-full w-full flex-col items-center bg-gray-900/80")},m(n,s){V(n,e,s),Z(t,e,null),l=!0},p(n,[s]){const a={};s&67&&(a.$$scope={dirty:s,ctx:n}),t.$set(a)},i(n){l||(B(t.$$.fragment,n),l=!0)},o(n){U(t.$$.fragment,n),l=!1},d(n){n&&g(e),X(t)}}}function cl(r,e,t){let l,n=!1;function s(a){Ce[a?"unshift":"push"](()=>{l=a,t(0,l)})}return r.$$.update=()=>{r.$$.dirty&1&&l&&t(1,n=Kt(l))},[l,n,s]}class ul extends ve{constructor(e){super(),me(this,e,cl,il,ge,{})}}const fl={armorClass:"Rüstungsklasse",hitPoints:"Trefferpunkte",hitDice:"Trefferwürfel",speed:"Bewegungsrate",proficiencyBonus:"Übungsbonus",background:"Hintergrund",proficiencies:"Übungen",senses:"Sinne",languages:"Sprachen",savingThrows:"Rettungswürfe",weapons:"Waffen",armor:"Rüstung",skills:"Fertigkeiten",tools:"Werkzeuge",actions:"Aktionen",bonusActions:"Bonusaktionen",challengeRating:"Herausforderungsgrad",xp:"EP",action:"Aktion",bonusAction:"Bonusaktion",addStatus:"Status zufügen",removeStatus:"Status entfernen",nextTurn:"Nächster Zug",turn:"Runde"},hl=Vt(fl);function ut(r,e,t){const l=r.slice();return l[9]=e[t],l[11]=t,l}function ft(r){let e,t,l="◀",n,s,a,o,u="▶",i,c,h=J(r[3].elements),_=[];for(let d=0;d<h.length;d+=1)_[d]=ht(ut(r,h,d));return{c(){e=m("div"),t=m("button"),t.textContent=l,n=D(),s=m("div");for(let d=0;d<_.length;d+=1)_[d].c();a=D(),o=m("button"),o.textContent=u,this.h()},l(d){e=b(d,"DIV",{class:!0});var $=C(e);t=b($,"BUTTON",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-v5xeuj"&&(t.textContent=l),n=I($),s=b($,"DIV",{class:!0});var k=C(s);for(let y=0;y<_.length;y+=1)_[y].l(k);k.forEach(g),a=I($),o=b($,"BUTTON",{class:!0,"data-svelte-h":!0}),P(o)!=="svelte-1noxd62"&&(o.textContent=u),$.forEach(g),this.h()},h(){v(t,"class","h-full w-8 border-r bg-redwood p-1 text-grainbrown hover:bg-terracotta"),v(s,"class","scrollbar-hide flex h-full flex-nowrap items-center gap-2 overflow-scroll svelte-gz07xj"),v(o,"class","h-full w-8 border-l bg-redwood p-1 text-grainbrown hover:bg-terracotta"),v(e,"class","flex h-full grow flex-nowrap justify-between overflow-hidden rounded-lg border border-grainbrown bg-englishwalnut")},m(d,$){V(d,e,$),f(e,t),f(e,n),f(e,s);for(let k=0;k<_.length;k+=1)_[k]&&_[k].m(s,null);r[8](s),f(e,a),f(e,o),i||(c=[M(t,"click",r[0]),M(o,"click",r[1])],i=!0)},p(d,$){if($&76){h=J(d[3].elements);let k;for(k=0;k<h.length;k+=1){const y=ut(d,h,k);_[k]?_[k].p(y,$):(_[k]=ht(y),_[k].c(),_[k].m(s,null))}for(;k<_.length;k+=1)_[k].d(1);_.length=h.length}},d(d){d&&g(e),$e(_,d),r[8](null),i=!1,Ge(c)}}}function dl(r){let e,t=r[9].characterName+"",l,n,s=r[9].initiative+"",a,o,u;return{c(){e=m("div"),l=N(t),n=N(" ("),a=N(s),o=N(")"),this.h()},l(i){e=b(i,"DIV",{class:!0});var c=C(e);l=T(c,t),n=T(c," ("),a=T(c,s),o=T(c,")"),c.forEach(g),this.h()},h(){v(e,"class",u=Ee("w-44 text-center "+(r[9].characterName.length>10?"text-base leading-4":"text-lg"))+" svelte-gz07xj")},m(i,c){V(i,e,c),f(e,l),f(e,n),f(e,a),f(e,o)},p(i,c){c&8&&t!==(t=i[9].characterName+"")&&L(l,t),c&8&&s!==(s=i[9].initiative+"")&&L(a,s),c&8&&u!==(u=Ee("w-44 text-center "+(i[9].characterName.length>10?"text-base leading-4":"text-lg"))+" svelte-gz07xj")&&v(e,"class",u)},d(i){i&&g(e)}}}function _l(r){let e,t=r[9].characterName+"",l,n,s=r[9].initiative+"",a,o,u;return{c(){e=m("div"),l=N(t),n=N(" ("),a=N(s),o=N(")"),this.h()},l(i){e=b(i,"DIV",{class:!0});var c=C(e);l=T(c,t),n=T(c," ("),a=T(c,s),o=T(c,")"),c.forEach(g),this.h()},h(){v(e,"class",u=Ee("w-44 text-center font-bold text-red-900/80 "+(r[9].characterName.length>10?"text-base leading-4":"text-lg"))+" svelte-gz07xj")},m(i,c){V(i,e,c),f(e,l),f(e,n),f(e,a),f(e,o),r[7](e)},p(i,c){c&8&&t!==(t=i[9].characterName+"")&&L(l,t),c&8&&s!==(s=i[9].initiative+"")&&L(a,s),c&8&&u!==(u=Ee("w-44 text-center font-bold text-red-900/80 "+(i[9].characterName.length>10?"text-base leading-4":"text-lg"))+" svelte-gz07xj")&&v(e,"class",u)},d(i){i&&g(e),r[7](null)}}}function ht(r){let e,t,l;function n(o,u){return o[3].index===o[11]?_l:dl}let s=n(r),a=s(r);return{c(){e=m("div"),a.c(),t=D(),this.h()},l(o){e=b(o,"DIV",{class:!0});var u=C(e);a.l(u),t=I(u),u.forEach(g),this.h()},h(){v(e,"class",l=Ee(r[6](r[9]))+" svelte-gz07xj")},m(o,u){V(o,e,u),a.m(e,null),f(e,t)},p(o,u){s===(s=n(o))&&a?a.p(o,u):(a.d(1),a=s(o),a&&(a.c(),a.m(e,t))),u&8&&l!==(l=Ee(o[6](o[9]))+" svelte-gz07xj")&&v(e,"class",l)},d(o){o&&g(e),a.d()}}}function pl(r){let e,t,l,n=r[3].number+"",s,a,o,u=r[5].turn+"",i,c,h=r[3]&&ft(r);return{c(){e=m("div"),t=m("div"),l=m("div"),s=N(n),a=D(),o=m("span"),i=N(u),c=D(),h&&h.c(),this.h()},l(_){e=b(_,"DIV",{class:!0});var d=C(e);t=b(d,"DIV",{class:!0});var $=C(t);l=b($,"DIV",{class:!0});var k=C(l);s=T(k,n),k.forEach(g),a=I($),o=b($,"SPAN",{class:!0});var y=C(o);i=T(y,u),y.forEach(g),$.forEach(g),c=I(d),h&&h.l(d),d.forEach(g),this.h()},h(){v(l,"class","text-center text-2xl"),v(o,"class","absolute bottom-1 w-full text-center text-xs font-extrabold"),v(t,"class","pixel-corners relative h-12 w-16 grow-0 rounded border border-grainbrown bg-tundora text-grainbrown"),v(e,"class","flex h-full w-full flex-row flex-nowrap flex-nowrap items-center justify-center gap-2 overflow-hidden p-1")},m(_,d){V(_,e,d),f(e,t),f(t,l),f(l,s),f(t,a),f(t,o),f(o,i),f(e,c),h&&h.m(e,null)},p(_,[d]){d&8&&n!==(n=_[3].number+"")&&L(s,n),d&32&&u!==(u=_[5].turn+"")&&L(i,u),_[3]?h?h.p(_,d):(h=ft(_),h.c(),h.m(e,null)):h&&(h.d(1),h=null)},i:q,o:q,d(_){_&&g(e),h&&h.d()}}}function gl(r,e,t){let l,n;we(r,Ye,_=>t(3,l=_)),we(r,hl,_=>t(5,n=_));let s,a;const o=()=>{s.scrollBy({left:-500,top:0,behavior:"smooth"})},u=()=>{s.scrollBy({left:500,top:0,behavior:"smooth"})},i=_=>{let d="bg-gray-200/30";return _.position=="pc"&&(d="bg-green-200/50"),_.position=="npc"&&(d="bg-red-200/50"),`w-32 h-10 flex items-center justify-center ${d} border-2 rounded border-black font-Gupter text-2xl`};function c(_){Ce[_?"unshift":"push"](()=>{a=_,t(2,a)})}function h(_){Ce[_?"unshift":"push"](()=>{s=_,t(4,s)})}return r.$$.update=()=>{r.$$.dirty&12&&l&&a&&a.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})},[o,u,a,l,s,n,i,c,h]}class vl extends ve{constructor(e){super(),me(this,e,gl,pl,ge,{scrollLeft:0,scrollRight:1})}get scrollLeft(){return this.$$.ctx[0]}get scrollRight(){return this.$$.ctx[1]}}function Mt(r,{from:e,to:t},l={}){const n=getComputedStyle(r),s=n.transform==="none"?"":n.transform,[a,o]=n.transformOrigin.split(" ").map(parseFloat),u=e.left+e.width*a/t.width-(t.left+a),i=e.top+e.height*o/t.height-(t.top+o),{delay:c=0,duration:h=d=>Math.sqrt(d)*120,easing:_=Xt}=l;return{delay:c,duration:Lt(h)?h(Math.sqrt(u*u+i*i)):h,easing:_,css:(d,$)=>{const k=$*u,y=$*i,p=d+$*e.width/t.width,w=d+$*e.height/t.height;return`transform: ${s} translate(${k}px, ${y}px) scale(${p}, ${w});`}}}function ml(r){let e,t,l,n=r[0].name+"",s,a,o,u=r[0].race_name+"",i,c,h="class placeholder",_,d,$,k,y,p="♥HP",w,x,A,O=r[0].hit_points+"",z,j,E,he="/",Y,ae,oe=r[0].max_hit_points+"",Q,de,ie,ee,F,te,le,S=r[0].armor_class+"",H,R,re,be="AC",fe,ne,se,Ve="Senses placeholder",xe,_e,ke,et="PP";return{c(){e=m("div"),t=m("div"),l=m("span"),s=N(n),a=D(),o=m("span"),i=N(u),c=N(", "),_=N(h),d=D(),$=m("div"),k=m("div"),y=m("span"),y.textContent=p,w=D(),x=m("div"),A=m("span"),z=N(O),j=D(),E=m("span"),E.textContent=he,Y=D(),ae=m("span"),Q=N(oe),de=D(),ie=m("div"),ee=m("div"),F=D(),te=m("div"),le=m("div"),H=N(S),R=D(),re=m("span"),re.textContent=be,fe=D(),ne=m("div"),se=m("div"),xe=N(Ve),_e=D(),ke=m("span"),ke.textContent=et,this.h()},l(ce){e=b(ce,"DIV",{class:!0});var K=C(e);t=b(K,"DIV",{class:!0});var Pe=C(t);l=b(Pe,"SPAN",{class:!0});var tt=C(l);s=T(tt,n),tt.forEach(g),a=I(Pe),o=b(Pe,"SPAN",{class:!0});var Be=C(o);i=T(Be,u),c=T(Be,", "),_=T(Be,h),Be.forEach(g),Pe.forEach(g),d=I(K),$=b(K,"DIV",{class:!0});var Ae=C($);k=b(Ae,"DIV",{class:!0});var je=C(k);y=b(je,"SPAN",{class:!0,"data-svelte-h":!0}),P(y)!=="svelte-11bd2bq"&&(y.textContent=p),w=I(je),x=b(je,"DIV",{});var ye=C(x);A=b(ye,"SPAN",{class:!0});var lt=C(A);z=T(lt,O),lt.forEach(g),j=I(ye),E=b(ye,"SPAN",{class:!0,"data-svelte-h":!0}),P(E)!=="svelte-yj5dp3"&&(E.textContent=he),Y=I(ye),ae=b(ye,"SPAN",{class:!0});var nt=C(ae);Q=T(nt,oe),nt.forEach(g),ye.forEach(g),je.forEach(g),de=I(Ae),ie=b(Ae,"DIV",{class:!0});var st=C(ie);ee=b(st,"DIV",{style:!0,class:!0}),C(ee).forEach(g),st.forEach(g),Ae.forEach(g),F=I(K),te=b(K,"DIV",{class:!0});var Me=C(te);le=b(Me,"DIV",{class:!0});var rt=C(le);H=T(rt,S),rt.forEach(g),R=I(Me),re=b(Me,"SPAN",{class:!0,"data-svelte-h":!0}),P(re)!=="svelte-1qiq5uq"&&(re.textContent=be),Me.forEach(g),fe=I(K),ne=b(K,"DIV",{class:!0});var Ue=C(ne);se=b(Ue,"DIV",{class:!0});var at=C(se);xe=T(at,Ve),at.forEach(g),_e=I(Ue),ke=b(Ue,"SPAN",{class:!0,"data-svelte-h":!0}),P(ke)!=="svelte-pribau"&&(ke.textContent=et),Ue.forEach(g),K.forEach(g),this.h()},h(){v(l,"class","w-40 text-left font-CrimsonText text-lg font-bold drop-shadow-2xl"),v(o,"class","text-left font-CrimsonText text-sm italic text-grainbrown/25"),v(t,"class","flex flex-col gap-0"),v(y,"class","italic text-grainbrown/20"),v(A,"class","font-bold text-grainbrown"),v(E,"class","inline"),v(ae,"class","inline text-grainbrown/20"),v(k,"class","flex flex-row justify-between"),v(ee,"style",r[2]()),v(ee,"class","h-full"),v(ie,"class","h-2 w-32 border border-black border-opacity-10 bg-black/30"),v($,"class","relative mx-2 flex flex-col"),v(le,"class","p-2 text-center text-2xl"),v(re,"class","absolute -bottom-1 left-0 w-full text-center text-xs font-extrabold"),v(te,"class","relative rounded-sm"),v(se,"class","p-2 text-center text-2xl"),v(ke,"class","absolute -bottom-1 left-0 w-full text-center text-xs font-extrabold"),v(ne,"class","relative rounded-sm"),v(e,"class","flex h-20 w-[450px] flex-row flex-nowrap items-center justify-center gap-1 px-4 font-SpectralSC")},m(ce,K){V(ce,e,K),f(e,t),f(t,l),f(l,s),f(t,a),f(t,o),f(o,i),f(o,c),f(o,_),f(e,d),f(e,$),f($,k),f(k,y),f(k,w),f(k,x),f(x,A),f(A,z),f(x,j),f(x,E),f(x,Y),f(x,ae),f(ae,Q),f($,de),f($,ie),f(ie,ee),f(e,F),f(e,te),f(te,le),f(le,H),f(te,R),f(te,re),f(e,fe),f(e,ne),f(ne,se),f(se,xe),f(ne,_e),f(ne,ke)},p(ce,K){K&1&&n!==(n=ce[0].name+"")&&L(s,n),K&1&&u!==(u=ce[0].race_name+"")&&L(i,u),K&1&&O!==(O=ce[0].hit_points+"")&&L(z,O),K&1&&oe!==(oe=ce[0].max_hit_points+"")&&L(Q,oe),K&1&&S!==(S=ce[0].armor_class+"")&&L(H,S)},d(ce){ce&&g(e)}}}function bl(r){let e,t,l,n;return t=new qe({props:{$$slots:{default:[ml]},$$scope:{ctx:r}}}),{c(){e=m("div"),G(t.$$.fragment),this.h()},l(s){e=b(s,"DIV",{class:!0});var a=C(e);W(t.$$.fragment,a),a.forEach(g),this.h()},h(){v(e,"class",l=(r[1]<=0?"opacity-30 ":"")+"h-full w-full")},m(s,a){V(s,e,a),Z(t,e,null),n=!0},p(s,[a]){const o={};a&9&&(o.$$scope={dirty:a,ctx:s}),t.$set(o),(!n||a&2&&l!==(l=(s[1]<=0?"opacity-30 ":"")+"h-full w-full"))&&v(e,"class",l)},i(s){n||(B(t.$$.fragment,s),n=!0)},o(s){U(t.$$.fragment,s),n=!1},d(s){s&&g(e),X(t)}}}function kl(r,e,t){let{character:l}=e,n=100;const s=()=>{let a="green";return n<.6*100&&(a="yellow"),n<.3*100&&(a="red"),`width: ${n.toString()}%; background: ${a}`};return r.$$set=a=>{"character"in a&&t(0,l=a.character)},r.$$.update=()=>{r.$$.dirty&1&&t(1,n=Math.round(l.hit_points/l.max_hit_points*100))},[l,n,s]}class wl extends ve{constructor(e){super(),me(this,e,kl,bl,ge,{character:0})}}function dt(r){let e,t,l,n;return t=new qe({props:{$$slots:{default:[El]},$$scope:{ctx:r}}}),{c(){e=m("div"),G(t.$$.fragment),this.h()},l(s){e=b(s,"DIV",{class:!0});var a=C(e);W(t.$$.fragment,a),a.forEach(g),this.h()},h(){v(e,"class",l=(r[2]<=0?"opacity-5 ":"")+"h-full w-full")},m(s,a){V(s,e,a),Z(t,e,null),n=!0},p(s,a){const o={};a&27&&(o.$$scope={dirty:a,ctx:s}),t.$set(o),(!n||a&4&&l!==(l=(s[2]<=0?"opacity-5 ":"")+"h-full w-full"))&&v(e,"class",l)},i(s){n||(B(t.$$.fragment,s),n=!0)},o(s){U(t.$$.fragment,s),n=!1},d(s){s&&g(e),X(t)}}}function $l(r){let e,t="?",l;return{c(){e=m("span"),l=N(t),this.h()},l(n){e=b(n,"SPAN",{class:!0});var s=C(e);l=T(s,t),s.forEach(g),this.h()},h(){v(e,"class","inline text-grainbrown/20")},m(n,s){V(n,e,s),f(e,l)},p:q,d(n){n&&g(e)}}}function xl(r){let e,t=r[1].max_hit_points+"",l;return{c(){e=m("span"),l=N(t),this.h()},l(n){e=b(n,"SPAN",{class:!0});var s=C(e);l=T(s,t),s.forEach(g),this.h()},h(){v(e,"class","inline text-grainbrown/20")},m(n,s){V(n,e,s),f(e,l)},p(n,s){s&2&&t!==(t=n[1].max_hit_points+"")&&L(l,t)},d(n){n&&g(e)}}}function yl(r){let e,t='"?"';return{c(){e=m("div"),e.textContent=t,this.h()},l(l){e=b(l,"DIV",{class:!0,"data-svelte-h":!0}),P(e)!=="svelte-ttbyv0"&&(e.textContent=t),this.h()},h(){v(e,"class","p-2 text-center text-2xl")},m(l,n){V(l,e,n)},p:q,d(l){l&&g(e)}}}function Cl(r){let e,t=r[1].armor_class+"",l;return{c(){e=m("div"),l=N(t),this.h()},l(n){e=b(n,"DIV",{class:!0});var s=C(e);l=T(s,t),s.forEach(g),this.h()},h(){v(e,"class","p-2 text-center text-2xl")},m(n,s){V(n,e,s),f(e,l)},p(n,s){s&2&&t!==(t=n[1].armor_class+"")&&L(l,t)},d(n){n&&g(e)}}}function El(r){let e,t,l,n=r[0].name+"",s,a,o,u,i,c="♥HP",h,_,d,$=r[0].current_hit_points+"",k,y,p,w="/",x,A,O,z,j,E,he,Y,ae="AC",oe,Q,de='<div class="p-2 text-center text-2xl">?</div> <span class="absolute -bottom-1 left-0 w-full text-center text-xs font-extrabold">PP</span>';function ie(H,R){return H[1]!=null?xl:$l}let ee=ie(r),F=ee(r);function te(H,R){return H[1]!=null?Cl:yl}let le=te(r),S=le(r);return{c(){e=m("div"),t=m("div"),l=m("span"),s=N(n),a=D(),o=m("div"),u=m("div"),i=m("span"),i.textContent=c,h=D(),_=m("div"),d=m("span"),k=N($),y=D(),p=m("span"),p.textContent=w,x=D(),F.c(),A=D(),O=m("div"),z=m("div"),j=D(),E=m("div"),S.c(),he=D(),Y=m("span"),Y.textContent=ae,oe=D(),Q=m("div"),Q.innerHTML=de,this.h()},l(H){e=b(H,"DIV",{class:!0});var R=C(e);t=b(R,"DIV",{class:!0});var re=C(t);l=b(re,"SPAN",{class:!0});var be=C(l);s=T(be,n),be.forEach(g),re.forEach(g),a=I(R),o=b(R,"DIV",{class:!0});var fe=C(o);u=b(fe,"DIV",{class:!0});var ne=C(u);i=b(ne,"SPAN",{class:!0,"data-svelte-h":!0}),P(i)!=="svelte-11bd2bq"&&(i.textContent=c),h=I(ne),_=b(ne,"DIV",{});var se=C(_);d=b(se,"SPAN",{class:!0});var Ve=C(d);k=T(Ve,$),Ve.forEach(g),y=I(se),p=b(se,"SPAN",{class:!0,"data-svelte-h":!0}),P(p)!=="svelte-yj5dp3"&&(p.textContent=w),x=I(se),F.l(se),se.forEach(g),ne.forEach(g),A=I(fe),O=b(fe,"DIV",{class:!0});var xe=C(O);z=b(xe,"DIV",{style:!0,class:!0}),C(z).forEach(g),xe.forEach(g),fe.forEach(g),j=I(R),E=b(R,"DIV",{class:!0});var _e=C(E);S.l(_e),he=I(_e),Y=b(_e,"SPAN",{class:!0,"data-svelte-h":!0}),P(Y)!=="svelte-11dioaj"&&(Y.textContent=ae),_e.forEach(g),oe=I(R),Q=b(R,"DIV",{class:!0,"data-svelte-h":!0}),P(Q)!=="svelte-fbn2sg"&&(Q.innerHTML=de),R.forEach(g),this.h()},h(){v(l,"class","w-40 text-left font-Rakkas text-xl font-semibold leading-5 drop-shadow-2xl"),v(t,"class","flex flex-col gap-0"),v(i,"class","italic text-grainbrown/20"),v(d,"class","font-bold text-grainbrown"),v(p,"class","inline"),v(u,"class","flex flex-row justify-between"),v(z,"style",r[3]),v(z,"class","h-full transition-all ease-in-out"),v(O,"class","h-2 w-32 border border-black border-opacity-10 bg-black/30"),v(o,"class","relative mx-2 flex flex-col"),v(Y,"class","absolute -bottom-1 left-0 w-full text-center text-xs font-extrabold"),v(E,"class","relative rounded-sm"),v(Q,"class","relative rounded-sm"),v(e,"class","flex h-20 w-[450px] flex-row flex-nowrap items-center justify-center gap-1 px-4")},m(H,R){V(H,e,R),f(e,t),f(t,l),f(l,s),f(e,a),f(e,o),f(o,u),f(u,i),f(u,h),f(u,_),f(_,d),f(d,k),f(_,y),f(_,p),f(_,x),F.m(_,null),f(o,A),f(o,O),f(O,z),f(e,j),f(e,E),S.m(E,null),f(E,he),f(E,Y),f(e,oe),f(e,Q)},p(H,R){R&1&&n!==(n=H[0].name+"")&&L(s,n),R&1&&$!==($=H[0].current_hit_points+"")&&L(k,$),ee===(ee=ie(H))&&F?F.p(H,R):(F.d(1),F=ee(H),F&&(F.c(),F.m(_,null))),R&8&&v(z,"style",H[3]),le===(le=te(H))&&S?S.p(H,R):(S.d(1),S=le(H),S&&(S.c(),S.m(E,he)))},d(H){H&&g(e),F.d(),S.d()}}}function Dl(r){let e,t,l=r[0]&&dt(r);return{c(){l&&l.c(),e=Ne()},l(n){l&&l.l(n),e=Ne()},m(n,s){l&&l.m(n,s),V(n,e,s),t=!0},p(n,[s]){n[0]?l?(l.p(n,s),s&1&&B(l,1)):(l=dt(n),l.c(),B(l,1),l.m(e.parentNode,e)):l&&(De(),U(l,1,1,()=>{l=null}),Ie())},i(n){t||(B(l),t=!0)},o(n){U(l),t=!1},d(n){n&&g(e),l&&l.d(n)}}}function Il(r,e,t){let{character:l}=e,{baseEnemy:n}=e,s=100,a="width: 100%; background: red";return r.$$set=o=>{"character"in o&&t(0,l=o.character),"baseEnemy"in o&&t(1,n=o.baseEnemy)},r.$$.update=()=>{if(r.$$.dirty&7){n!=null?t(2,s=Math.round(l.current_hit_points/n.max_hit_points*100)):t(2,s=0);let o="green";s<.6*100&&(o="yellow"),s<.3*100&&(o="red"),console.log("Bar Width: ",s),t(3,a=`width: ${s.toString()}%; background: ${o}`)}},[l,n,s,a]}class Nl extends ve{constructor(e){super(),me(this,e,Il,Dl,ge,{character:0,baseEnemy:1})}}function _t(r,e,t){const l=r.slice();return l[10]=e[t],l[11]=e,l[12]=t,l}function pt(r,e,t){const l=r.slice();return l[10]=e[t],l[13]=e,l[12]=t,l}function gt(r,e){let t,l,n,s,a,o,u,i,c=q,h,_,d;function $(p){e[6](p,e[10],e[13],e[12])}let k={};e[10]!==void 0&&(k.character=e[10]),l=new wl({props:k}),Ce.push(()=>Ze(l,"character",$));function y(){return e[7](e[12])}return{key:r,first:null,c(){t=m("button"),G(l.$$.fragment),s=D(),this.h()},l(p){t=b(p,"BUTTON",{class:!0});var w=C(t);W(l.$$.fragment,w),s=I(w),w.forEach(g),this.h()},h(){v(t,"class",a="h-24 w-full select-none transition-transform"+(e[0]&&e[1]==e[12]?" translate-x-8":"")),this.first=t},m(p,w){V(p,t,w),Z(l,t,null),f(t,s),h=!0,_||(d=M(t,"click",y),_=!0)},p(p,w){e=p;const x={};!n&&w&4&&(n=!0,x.character=e[10],We(()=>n=!1)),l.$set(x),(!h||w&7&&a!==(a="h-24 w-full select-none transition-transform"+(e[0]&&e[1]==e[12]?" translate-x-8":"")))&&v(t,"class",a)},r(){i=t.getBoundingClientRect()},f(){Ot(t),c(),Qe(t,i)},a(){c(),c=St(t,i,Mt,{delay:300})},i(p){h||(B(l.$$.fragment,p),p&&Oe(()=>{h&&(u&&u.end(1),o=Xe(t,pe,{duration:200}),o.start())}),h=!0)},o(p){U(l.$$.fragment,p),o&&o.invalidate(),p&&(u=Tt(t,pe,{duration:200})),h=!1},d(p){p&&g(t),X(l),p&&u&&u.end(),_=!1,d()}}}function vt(r,e){let t,l,n,s,a,o,u,i,c=q,h,_,d;function $(p){e[8](p,e[10],e[11],e[12])}let k={baseEnemy:e[4].get(e[10].general_name)};e[10]!==void 0&&(k.character=e[10]),l=new Nl({props:k}),Ce.push(()=>Ze(l,"character",$));function y(){return e[9](e[12])}return{key:r,first:null,c(){t=m("button"),G(l.$$.fragment),s=D(),this.h()},l(p){t=b(p,"BUTTON",{class:!0});var w=C(t);W(l.$$.fragment,w),s=I(w),w.forEach(g),this.h()},h(){v(t,"class",a="select-none transition-transform"+(!e[0]&&e[1]==e[12]?" -translate-x-8":"")),this.first=t},m(p,w){V(p,t,w),Z(l,t,null),f(t,s),h=!0,_||(d=M(t,"click",y),_=!0)},p(p,w){e=p;const x={};w&24&&(x.baseEnemy=e[4].get(e[10].general_name)),!n&&w&8&&(n=!0,x.character=e[10],We(()=>n=!1)),l.$set(x),(!h||w&11&&a!==(a="select-none transition-transform"+(!e[0]&&e[1]==e[12]?" -translate-x-8":"")))&&v(t,"class",a)},r(){i=t.getBoundingClientRect()},f(){Ot(t),c(),Qe(t,i)},a(){c(),c=St(t,i,Mt,{delay:300})},i(p){h||(B(l.$$.fragment,p),p&&Oe(()=>{h&&(u&&u.end(1),o=Xe(t,pe,{duration:200}),o.start())}),h=!0)},o(p){U(l.$$.fragment,p),o&&o.invalidate(),p&&(u=Tt(t,pe,{duration:200})),h=!1},d(p){p&&g(t),X(l),p&&u&&u.end(),_=!1,d()}}}function Tl(r){let e,t,l=[],n=new Map,s,a,o="",u,i,c=[],h=new Map,_,d=J(r[2]);const $=p=>p[10];for(let p=0;p<d.length;p+=1){let w=pt(r,d,p),x=$(w);n.set(x,l[p]=gt(x,w))}let k=J(r[3]);const y=p=>p[12];for(let p=0;p<k.length;p+=1){let w=_t(r,k,p),x=y(w);h.set(x,c[p]=vt(x,w))}return{c(){e=m("div"),t=m("div");for(let p=0;p<l.length;p+=1)l[p].c();s=D(),a=m("div"),a.innerHTML=o,u=D(),i=m("div");for(let p=0;p<c.length;p+=1)c[p].c();this.h()},l(p){e=b(p,"DIV",{class:!0});var w=C(e);t=b(w,"DIV",{class:!0});var x=C(t);for(let O=0;O<l.length;O+=1)l[O].l(x);x.forEach(g),s=I(w),a=b(w,"DIV",{class:!0,"data-svelte-h":!0}),P(a)!=="svelte-1j8qf0p"&&(a.innerHTML=o),u=I(w),i=b(w,"DIV",{class:!0});var A=C(i);for(let O=0;O<c.length;O+=1)c[O].l(A);A.forEach(g),w.forEach(g),this.h()},h(){v(t,"class","flex w-2/5 flex-col items-start justify-start gap-4 p-3"),v(a,"class","h-full w-2/3 p-8"),v(i,"class","flex h-full w-2/5 grow-0 flex-col items-end justify-start gap-4 overflow-scroll p-3"),v(e,"class","flex h-full w-full flex-row")},m(p,w){V(p,e,w),f(e,t);for(let x=0;x<l.length;x+=1)l[x]&&l[x].m(t,null);f(e,s),f(e,a),f(e,u),f(e,i);for(let x=0;x<c.length;x+=1)c[x]&&c[x].m(i,null);_=!0},p(p,[w]){if(w&7){d=J(p[2]),De();for(let x=0;x<l.length;x+=1)l[x].r();l=ot(l,w,$,1,p,d,n,t,it,gt,null,pt);for(let x=0;x<l.length;x+=1)l[x].a();Ie()}if(w&27){k=J(p[3]),De();for(let x=0;x<c.length;x+=1)c[x].r();c=ot(c,w,y,1,p,k,h,i,it,vt,null,_t);for(let x=0;x<c.length;x+=1)c[x].a();Ie()}},i(p){if(!_){for(let w=0;w<d.length;w+=1)B(l[w]);for(let w=0;w<k.length;w+=1)B(c[w]);_=!0}},o(p){for(let w=0;w<l.length;w+=1)U(l[w]);for(let w=0;w<c.length;w+=1)U(c[w]);_=!1},d(p){p&&g(e);for(let w=0;w<l.length;w+=1)l[w].d();for(let w=0;w<c.length;w+=1)c[w].d()}}}function Vl(r,e,t){let l,n,s;we(r,Se,d=>t(2,l=d)),we(r,Le,d=>t(3,n=d)),we(r,Ke,d=>t(4,s=d));let a=!1,o=0;const u=d=>{!a&&d==="left"&&(t(0,a=!0),t(1,o=0)),a&&d==="right"&&(t(0,a=!1),t(1,o=0))};function i(d,$,k,y){k[y]=d,Se.set(l)}const c=d=>{t(0,a=!0),t(1,o=d)};function h(d,$,k,y){k[y]=d,Le.set(n)}return[a,o,l,n,s,u,i,c,h,d=>{t(0,a=!1),t(1,o=d)}]}class Sl extends ve{constructor(e){super(),me(this,e,Vl,Tl,ge,{changeColumn:5})}get changeColumn(){return this.$$.ctx[5]}}const mt=["blinded","charmed","deafened","frightened","grappled","incapacitated","invisible","paralyzed","petrified","poisoned","prone","restrained","stunned","unconscious"];function bt(r,e,t){const l=r.slice();return l[33]=e[t],l}function kt(r,e,t){const l=r.slice();return l[38]=e[t],l}function wt(r,e,t){const l=r.slice();return l[33]=e[t],l}function $t(r,e,t){const l=r.slice();return l[41]=e[t],l[43]=t,l}function xt(r){let e,t=r[43]==r[6]?"▸ ":"  ",l,n,s=r[10](r[41],r[1],r[2],r[3],r[4],r[5])+"",a,o,u;function i(){return r[12](r[43])}return{c(){e=m("button"),l=N(t),n=D(),a=N(s),this.h()},l(c){e=b(c,"BUTTON",{class:!0});var h=C(e);l=T(h,t),n=I(h),a=T(h,s),h.forEach(g),this.h()},h(){v(e,"class","w-full text-left")},m(c,h){V(c,e,h),f(e,l),f(e,n),f(e,a),o||(u=M(e,"click",i),o=!0)},p(c,h){r=c,h[0]&64&&t!==(t=r[43]==r[6]?"▸ ":"  ")&&L(l,t),h[0]&62&&s!==(s=r[10](r[41],r[1],r[2],r[3],r[4],r[5])+"")&&L(a,s)},d(c){c&&g(e),o=!1,u()}}}function Ol(r){let e,t,l,n="Confirm",s,a,o=J(r[9]),u=[];for(let i=0;i<o.length;i+=1)u[i]=xt($t(r,o,i));return{c(){e=m("div");for(let i=0;i<u.length;i+=1)u[i].c();t=D(),l=m("button"),l.textContent=n,this.h()},l(i){e=b(i,"DIV",{class:!0});var c=C(e);for(let h=0;h<u.length;h+=1)u[h].l(c);t=I(c),l=b(c,"BUTTON",{class:!0,"data-svelte-h":!0}),P(l)!=="svelte-an7k7w"&&(l.textContent=n),c.forEach(g),this.h()},h(){v(l,"class","w-full text-left"),v(e,"class","flex w-48 flex-col px-2")},m(i,c){V(i,e,c);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(e,null);f(e,t),f(e,l),s||(a=M(l,"click",r[13]),s=!0)},p(i,c){if(c[0]&1662){o=J(i[9]);let h;for(h=0;h<o.length;h+=1){const _=$t(i,o,h);u[h]?u[h].p(_,c):(u[h]=xt(_),u[h].c(),u[h].m(e,t))}for(;h<u.length;h+=1)u[h].d(1);u.length=o.length}},d(i){i&&g(e),$e(u,i),s=!1,a()}}}function Pl(r){let e,t;return e=new Te({props:{title:"Status",$$slots:{default:[Ul]},$$scope:{ctx:r}}}),{c(){G(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const s={};n[0]&32|n[1]&8192&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){t||(B(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Bl(r){let e,t;return e=new Te({props:{title:"Ziele",$$slots:{default:[Hl]},$$scope:{ctx:r}}}),{c(){G(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const s={};n[0]&400|n[1]&8192&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){t||(B(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Al(r){let e,t;return e=new Te({props:{title:"Status",$$slots:{default:[Rl]},$$scope:{ctx:r}}}),{c(){G(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const s={};n[0]&8|n[1]&8192&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){t||(B(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function jl(r){let e,t;return e=new Te({props:{title:"Heilung",$$slots:{default:[zl]},$$scope:{ctx:r}}}),{c(){G(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const s={};n[0]&4|n[1]&8192&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){t||(B(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Ml(r){let e,t;return e=new Te({props:{title:"Schaden",$$slots:{default:[Ll]},$$scope:{ctx:r}}}),{c(){G(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,n){Z(e,l,n),t=!0},p(l,n){const s={};n[0]&2|n[1]&8192&&(s.$$scope={dirty:n,ctx:l}),e.$set(s)},i(l){t||(B(e.$$.fragment,l),t=!0)},o(l){U(e.$$.fragment,l),t=!1},d(l){X(e,l)}}}function Ul(r){let e,t,l,n;return{c(){e=m("div"),t=m("textarea"),this.h()},l(s){e=b(s,"DIV",{class:!0});var a=C(e);t=b(a,"TEXTAREA",{class:!0,rows:!0}),C(t).forEach(g),a.forEach(g),this.h()},h(){v(t,"class","bg-transparent"),v(t,"rows","7"),v(e,"class","flex w-48 flex-col p-2")},m(s,a){V(s,e,a),f(e,t),ue(t,r[5]),l||(n=M(t,"input",r[32]),l=!0)},p(s,a){a[0]&32&&ue(t,s[5])},d(s){s&&g(e),l=!1,n()}}}function yt(r){let e,t,l,n=!1,s=r[38].name+"",a,o,u,i;return o=Je(r[29][1]),{c(){e=m("label"),t=m("input"),a=N(s),this.h()},l(c){e=b(c,"LABEL",{class:!0});var h=C(e);t=b(h,"INPUT",{type:!0}),a=T(h,s),h.forEach(g),this.h()},h(){v(t,"type","checkbox"),t.__value=l=r[38].name,ue(t,t.__value),v(e,"class","flex w-full select-none items-center gap-2"),o.p(t)},m(c,h){V(c,e,h),f(e,t),t.checked=~(r[4]||[]).indexOf(t.__value),f(e,a),u||(i=M(t,"change",r[30]),u=!0)},p(c,h){h[0]&128&&l!==(l=c[38].name)&&(t.__value=l,ue(t,t.__value),n=!0),(n||h[0]&272)&&(t.checked=~(c[4]||[]).indexOf(t.__value)),h[0]&128&&s!==(s=c[38].name+"")&&L(a,s)},d(c){c&&g(e),o.r(),u=!1,i()}}}function Ct(r){let e,t,l,n=!1,s=r[33].name+"",a,o,u,i;return o=Je(r[29][1]),{c(){e=m("label"),t=m("input"),a=N(s),this.h()},l(c){e=b(c,"LABEL",{class:!0});var h=C(e);t=b(h,"INPUT",{type:!0}),a=T(h,s),h.forEach(g),this.h()},h(){v(t,"type","checkbox"),t.__value=l=r[33].name,ue(t,t.__value),v(e,"class","flex w-full select-none items-center gap-2"),o.p(t)},m(c,h){V(c,e,h),f(e,t),t.checked=~(r[4]||[]).indexOf(t.__value),f(e,a),u||(i=M(t,"change",r[31]),u=!0)},p(c,h){h[0]&256&&l!==(l=c[33].name)&&(t.__value=l,ue(t,t.__value),n=!0),(n||h[0]&272)&&(t.checked=~(c[4]||[]).indexOf(t.__value)),h[0]&256&&s!==(s=c[33].name+"")&&L(a,s)},d(c){c&&g(e),o.r(),u=!1,i()}}}function Hl(r){let e,t,l=J(Array.from(r[7].values())),n=[];for(let o=0;o<l.length;o+=1)n[o]=yt(kt(r,l,o));let s=J(r[8]),a=[];for(let o=0;o<s.length;o+=1)a[o]=Ct(bt(r,s,o));return{c(){e=m("div");for(let o=0;o<n.length;o+=1)n[o].c();t=D();for(let o=0;o<a.length;o+=1)a[o].c();this.h()},l(o){e=b(o,"DIV",{class:!0});var u=C(e);for(let i=0;i<n.length;i+=1)n[i].l(u);t=I(u);for(let i=0;i<a.length;i+=1)a[i].l(u);u.forEach(g),this.h()},h(){v(e,"class","flex w-48 flex-col p-2")},m(o,u){V(o,e,u);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,null);f(e,t);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(e,null)},p(o,u){if(u[0]&144){l=J(Array.from(o[7].values()));let i;for(i=0;i<l.length;i+=1){const c=kt(o,l,i);n[i]?n[i].p(c,u):(n[i]=yt(c),n[i].c(),n[i].m(e,t))}for(;i<n.length;i+=1)n[i].d(1);n.length=l.length}if(u[0]&272){s=J(o[8]);let i;for(i=0;i<s.length;i+=1){const c=bt(o,s,i);a[i]?a[i].p(c,u):(a[i]=Ct(c),a[i].c(),a[i].m(e,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=s.length}},d(o){o&&g(e),$e(n,o),$e(a,o)}}}function Et(r){let e,t,l,n,s,a;return n=Je(r[29][0]),{c(){e=m("label"),t=m("input"),l=N(r[33]),this.h()},l(o){e=b(o,"LABEL",{class:!0});var u=C(e);t=b(u,"INPUT",{type:!0}),l=T(u,r[33]),u.forEach(g),this.h()},h(){v(t,"type","checkbox"),t.__value=r[33],ue(t,t.__value),v(e,"class","flex w-full select-none items-center gap-2"),n.p(t)},m(o,u){V(o,e,u),f(e,t),t.checked=~(r[3]||[]).indexOf(t.__value),f(e,l),s||(a=M(t,"change",r[28]),s=!0)},p(o,u){u[0]&8&&(t.checked=~(o[3]||[]).indexOf(t.__value))},d(o){o&&g(e),n.r(),s=!1,a()}}}function Rl(r){let e,t=J(mt),l=[];for(let n=0;n<t.length;n+=1)l[n]=Et(wt(r,t,n));return{c(){e=m("div");for(let n=0;n<l.length;n+=1)l[n].c();this.h()},l(n){e=b(n,"DIV",{class:!0});var s=C(e);for(let a=0;a<l.length;a+=1)l[a].l(s);s.forEach(g),this.h()},h(){v(e,"class","flex w-48 flex-col p-2")},m(n,s){V(n,e,s);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(e,null)},p(n,s){if(s[0]&8){t=J(mt);let a;for(a=0;a<t.length;a+=1){const o=wt(n,t,a);l[a]?l[a].p(o,s):(l[a]=Et(o),l[a].c(),l[a].m(e,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=t.length}},d(n){n&&g(e),$e(l,n)}}}function zl(r){let e,t,l,n,s="+10",a,o,u="+5",i,c,h="+1",_,d,$="-1",k,y,p="-5",w,x,A="-10",O,z;return{c(){e=m("div"),t=m("input"),l=D(),n=m("button"),n.textContent=s,a=D(),o=m("button"),o.textContent=u,i=D(),c=m("button"),c.textContent=h,_=D(),d=m("button"),d.textContent=$,k=D(),y=m("button"),y.textContent=p,w=D(),x=m("button"),x.textContent=A,this.h()},l(j){e=b(j,"DIV",{class:!0});var E=C(e);t=b(E,"INPUT",{type:!0,class:!0}),l=I(E),n=b(E,"BUTTON",{class:!0,"data-svelte-h":!0}),P(n)!=="svelte-1km7ctt"&&(n.textContent=s),a=I(E),o=b(E,"BUTTON",{class:!0,"data-svelte-h":!0}),P(o)!=="svelte-ucp3mx"&&(o.textContent=u),i=I(E),c=b(E,"BUTTON",{class:!0,"data-svelte-h":!0}),P(c)!=="svelte-1uinwzd"&&(c.textContent=h),_=I(E),d=b(E,"BUTTON",{class:!0,"data-svelte-h":!0}),P(d)!=="svelte-1pm0x6h"&&(d.textContent=$),k=I(E),y=b(E,"BUTTON",{class:!0,"data-svelte-h":!0}),P(y)!=="svelte-my22xt"&&(y.textContent=p),w=I(E),x=b(E,"BUTTON",{class:!0,"data-svelte-h":!0}),P(x)!=="svelte-1fz17tp"&&(x.textContent=A),E.forEach(g),this.h()},h(){v(t,"type","number"),v(t,"class","w-full bg-transparent focus:ring-englishwalnut"),v(n,"class","btn"),v(o,"class","btn"),v(c,"class","btn"),v(d,"class","btn"),v(y,"class","btn"),v(x,"class","btn"),v(e,"class","flex w-48 flex-row flex-wrap justify-center gap-2 p-2")},m(j,E){V(j,e,E),f(e,t),ue(t,r[2]),f(e,l),f(e,n),f(e,a),f(e,o),f(e,i),f(e,c),f(e,_),f(e,d),f(e,k),f(e,y),f(e,w),f(e,x),O||(z=[M(t,"input",r[21]),M(n,"click",r[22]),M(o,"click",r[23]),M(c,"click",r[24]),M(d,"click",r[25]),M(y,"click",r[26]),M(x,"click",r[27])],O=!0)},p(j,E){E[0]&4&&Re(t.value)!==j[2]&&ue(t,j[2])},d(j){j&&g(e),O=!1,Ge(z)}}}function Ll(r){let e,t,l,n,s="+10",a,o,u="+5",i,c,h="+1",_,d,$="-1",k,y,p="-5",w,x,A="-10",O,z;return{c(){e=m("div"),t=m("input"),l=D(),n=m("button"),n.textContent=s,a=D(),o=m("button"),o.textContent=u,i=D(),c=m("button"),c.textContent=h,_=D(),d=m("button"),d.textContent=$,k=D(),y=m("button"),y.textContent=p,w=D(),x=m("button"),x.textContent=A,this.h()},l(j){e=b(j,"DIV",{class:!0});var E=C(e);t=b(E,"INPUT",{type:!0,class:!0}),l=I(E),n=b(E,"BUTTON",{class:!0,"data-svelte-h":!0}),P(n)!=="svelte-1c318xy"&&(n.textContent=s),a=I(E),o=b(E,"BUTTON",{class:!0,"data-svelte-h":!0}),P(o)!=="svelte-fzhxum"&&(o.textContent=u),i=I(E),c=b(E,"BUTTON",{class:!0,"data-svelte-h":!0}),P(c)!=="svelte-ex7lvy"&&(c.textContent=h),_=I(E),d=b(E,"BUTTON",{class:!0,"data-svelte-h":!0}),P(d)!=="svelte-9pdyvi"&&(d.textContent=$),k=I(E),y=b(E,"BUTTON",{class:!0,"data-svelte-h":!0}),P(y)!=="svelte-c53me"&&(y.textContent=p),w=I(E),x=b(E,"BUTTON",{class:!0,"data-svelte-h":!0}),P(x)!=="svelte-ql7d62"&&(x.textContent=A),E.forEach(g),this.h()},h(){v(t,"type","number"),v(t,"class","w-full bg-transparent focus:ring-englishwalnut"),v(n,"class","btn"),v(o,"class","btn"),v(c,"class","btn"),v(d,"class","btn"),v(y,"class","btn"),v(x,"class","btn"),v(e,"class","flex w-48 flex-row flex-wrap justify-center gap-2 p-2")},m(j,E){V(j,e,E),f(e,t),ue(t,r[1]),f(e,l),f(e,n),f(e,a),f(e,o),f(e,i),f(e,c),f(e,_),f(e,d),f(e,k),f(e,y),f(e,w),f(e,x),O||(z=[M(t,"input",r[14]),M(n,"click",r[15]),M(o,"click",r[16]),M(c,"click",r[17]),M(d,"click",r[18]),M(y,"click",r[19]),M(x,"click",r[20])],O=!0)},p(j,E){E[0]&2&&Re(t.value)!==j[1]&&ue(t,j[1])},d(j){j&&g(e),O=!1,Ge(z)}}}function ql(r){let e,t,l,n,s,a,o,u,i,c,h,_,d;l=new Te({props:{title:"Kategorien",$$slots:{default:[Ol]},$$scope:{ctx:r}}});const $=[Ml,jl,Al,Bl,Pl],k=[];function y(p,w){return p[9][p[6]]==="damage"?0:p[9][p[6]]=="healing"?1:p[9][p[6]]=="status"?2:p[9][p[6]]=="targets"?3:p[9][p[6]]=="note"?4:-1}return~(a=y(r))&&(o=k[a]=$[a](r)),{c(){e=m("div"),t=m("div"),G(l.$$.fragment),n=D(),s=m("div"),o&&o.c(),i=D(),c=m("div"),this.h()},l(p){e=b(p,"DIV",{class:!0});var w=C(e);t=b(w,"DIV",{class:!0});var x=C(t);W(l.$$.fragment,x),n=I(x),s=b(x,"DIV",{class:!0});var A=C(s);o&&o.l(A),A.forEach(g),i=I(x),c=b(x,"DIV",{}),C(c).forEach(g),x.forEach(g),w.forEach(g),this.h()},h(){v(s,"class","absolute left-[calc(100%+0.5rem)] top-0"),v(t,"class","relative"),v(e,"class","flex h-screen w-full items-center justify-center")},m(p,w){V(p,e,w),f(e,t),Z(l,t,null),f(t,n),f(t,s),~a&&k[a].m(s,null),f(t,i),f(t,c),h=!0,_||(d=M(window,"keydown",r[11]),_=!0)},p(p,w){const x={};w[0]&127|w[1]&8192&&(x.$$scope={dirty:w,ctx:p}),l.$set(x);let A=a;a=y(p),a===A?~a&&k[a].p(p,w):(o&&(De(),U(k[A],1,1,()=>{k[A]=null}),Ie()),~a?(o=k[a],o?o.p(p,w):(o=k[a]=$[a](p),o.c()),B(o,1),o.m(s,null)):o=null)},i(p){h||(B(l.$$.fragment,p),B(o),p&&(u||Oe(()=>{u=Xe(s,Jt,{duration:10}),u.start()})),h=!0)},o(p){U(l.$$.fragment,p),U(o),h=!1},d(p){p&&g(e),X(l),~a&&k[a].d(),_=!1,d()}}}function Fl(r,e,t){let l,n;we(r,Ke,S=>t(7,l=S)),we(r,Se,S=>t(8,n=S));let{showMenu:s=!0}=e,a=0,o=0,u=[],i=[],c="",h=["damage","healing","status","targets","note"],_=0;const d=(S,H,R,re,be,fe)=>{switch(S){case"damage":return`Damage (${H})`;case"healing":return`Healing (${R})`;case"status":return`Status (${re.length})`;case"targets":return`Targets (${be.length})`;case"note":return`Notes (${fe.length})`;default:return"unknown"}};function $(S){if(!S.repeat)switch(S.key){case"Tab":S.preventDefault(),t(6,_=(_+1)%h.length);break}}const k=[[],[]],y=S=>t(6,_=S),p=()=>t(0,s=!1);function w(){a=Re(this.value),t(1,a)}const x=()=>t(1,a+=10),A=()=>t(1,a+=5),O=()=>t(1,a+=1),z=()=>t(1,a-=1),j=()=>t(1,a-=5),E=()=>t(1,a-=10);function he(){o=Re(this.value),t(2,o)}const Y=()=>t(2,o+=10),ae=()=>t(2,o+=5),oe=()=>t(2,o+=1),Q=()=>t(2,o-=1),de=()=>t(2,o-=5),ie=()=>t(2,o-=10);function ee(){u=Fe(k[0],this.__value,this.checked),t(3,u)}function F(){i=Fe(k[1],this.__value,this.checked),t(4,i)}function te(){i=Fe(k[1],this.__value,this.checked),t(4,i)}function le(){c=this.value,t(5,c)}return r.$$set=S=>{"showMenu"in S&&t(0,s=S.showMenu)},[s,a,o,u,i,c,_,l,n,h,d,$,y,p,w,x,A,O,z,j,E,he,Y,ae,oe,Q,de,ie,ee,k,F,te,le]}class Gl extends ve{constructor(e){super(),me(this,e,Fl,ql,ge,{showMenu:0},null,[-1,-1])}}function Dt(r,e,t){const l=r.slice();return l[6]=e[t],l[8]=t,l}function It(r){let e,t,l="X",n,s,a,o,u,i,c;function h(d){r[5](d)}let _={};return r[1]!==void 0&&(_.showMenu=r[1]),s=new Gl({props:_}),Ce.push(()=>Ze(s,"showMenu",h)),{c(){e=m("div"),t=m("button"),t.textContent=l,n=D(),G(s.$$.fragment),this.h()},l(d){e=b(d,"DIV",{class:!0});var $=C(e);t=b($,"BUTTON",{class:!0,"data-svelte-h":!0}),P(t)!=="svelte-16yk4xq"&&(t.textContent=l),n=I($),W(s.$$.fragment,$),$.forEach(g),this.h()},h(){v(t,"class","btn absolute right-2 top-2"),v(e,"class","fixed left-0 top-0 z-40 flex h-screen w-screen items-center justify-center bg-tundora/80 backdrop-blur-sm")},m(d,$){V(d,e,$),f(e,t),f(e,n),Z(s,e,null),u=!0,i||(c=M(t,"click",r[4]),i=!0)},p(d,$){const k={};!a&&$&2&&(a=!0,k.showMenu=d[1],We(()=>a=!1)),s.$set(k)},i(d){u||(B(s.$$.fragment,d),d&&Oe(()=>{u&&(o||(o=ze(e,pe,{duration:100},!0)),o.run(1))}),u=!0)},o(d){U(s.$$.fragment,d),d&&(o||(o=ze(e,pe,{duration:100},!1)),o.run(0)),u=!1},d(d){d&&g(e),X(s),d&&o&&o.end(),i=!1,c()}}}function Nt(r){let e,t,l=r[8]==r[0]?"⯈":" ",n,s,a,o=r[6].label+"",u,i,c,h;return{c(){e=m("button"),t=m("span"),n=N(l),s=D(),a=m("span"),u=N(o),i=D(),this.h()},l(_){e=b(_,"BUTTON",{class:!0});var d=C(e);t=b(d,"SPAN",{class:!0});var $=C(t);n=T($,l),$.forEach(g),s=I(d),a=b(d,"SPAN",{});var k=C(a);u=T(k,o),k.forEach(g),i=I(d),d.forEach(g),this.h()},h(){v(t,"class","inline-block font-bold"),v(e,"class","flex flex-row gap-1 rounded-lg p-1 transition hover:bg-terracotta/20")},m(_,d){V(_,e,d),f(e,t),f(t,n),f(e,s),f(e,a),f(a,u),f(e,i),c||(h=M(e,"click",r[6].callback),c=!0)},p(_,d){r=_,d&1&&l!==(l=r[8]==r[0]?"⯈":" ")&&L(n,l)},d(_){_&&g(e),c=!1,h()}}}function Wl(r){let e,t,l=J(r[2]),n=[];for(let s=0;s<l.length;s+=1)n[s]=Nt(Dt(r,l,s));return{c(){e=m("div"),t=m("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=b(s,"DIV",{class:!0});var a=C(e);t=b(a,"DIV",{class:!0});var o=C(t);for(let u=0;u<n.length;u+=1)n[u].l(o);o.forEach(g),a.forEach(g),this.h()},h(){v(t,"class","flex flex-col"),v(e,"class","flex h-full w-60 items-center items-center justify-center")},m(s,a){V(s,e,a),f(e,t);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(t,null)},p(s,a){if(a&5){l=J(s[2]);let o;for(o=0;o<l.length;o+=1){const u=Dt(s,l,o);n[o]?n[o].p(u,a):(n[o]=Nt(u),n[o].c(),n[o].m(t,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=l.length}},d(s){s&&g(e),$e(n,s)}}}function Zl(r){let e,t,l,n,s=r[1]&&It(r);return l=new qe({props:{grow:!0,$$slots:{default:[Wl]},$$scope:{ctx:r}}}),{c(){s&&s.c(),e=D(),t=m("div"),G(l.$$.fragment),this.h()},l(a){s&&s.l(a),e=I(a),t=b(a,"DIV",{class:!0});var o=C(t);W(l.$$.fragment,o),o.forEach(g),this.h()},h(){v(t,"class","flex h-full items-center justify-center")},m(a,o){s&&s.m(a,o),V(a,e,o),V(a,t,o),Z(l,t,null),n=!0},p(a,[o]){a[1]?s?(s.p(a,o),o&2&&B(s,1)):(s=It(a),s.c(),B(s,1),s.m(e.parentNode,e)):s&&(De(),U(s,1,1,()=>{s=null}),Ie());const u={};o&513&&(u.$$scope={dirty:o,ctx:a}),l.$set(u)},i(a){n||(B(s),B(l.$$.fragment,a),n=!0)},o(a){U(s),U(l.$$.fragment,a),n=!1},d(a){a&&(g(e),g(t)),s&&s.d(a),X(l)}}}function Xl(r,e,t){let l=0,n=!1,s=[{label:"Aktion",callback:()=>{console.log("Fight"),t(1,n=!0)}},{label:"Bonusaktion",callback:()=>{console.log("Pokemon")}},{label:"Status zufügen",callback:()=>{}},{label:"Status entfernen",callback:()=>{}},{label:"Nächster Zug",callback:()=>{Yt(),t(0,l=0)}}];const a=(i=!0)=>{i?t(0,l=(l+1)%s.length):t(0,l=(l+s.length-1)%s.length)},o=()=>{t(1,n=!1)};function u(i){n=i,t(1,n)}return[l,n,s,a,o,u]}class Jl extends ve{constructor(e){super(),me(this,e,Xl,Zl,ge,{nextSelection:3})}get nextSelection(){return this.$$.ctx[3]}}function Kl(r){return{c:q,l:q,m:q,i:q,o:q,d:q}}function Ql(r){let e,t,l,n,s,a,o,u,i,c,h;return t=new vl({}),n=new Sl({}),o=new ul({}),i=new Jl({}),{c(){e=m("div"),G(t.$$.fragment),l=D(),G(n.$$.fragment),s=D(),a=m("div"),G(o.$$.fragment),u=D(),G(i.$$.fragment),this.h()},l(_){e=b(_,"DIV",{class:!0});var d=C(e);W(t.$$.fragment,d),l=I(d),W(n.$$.fragment,d),s=I(d),a=b(d,"DIV",{class:!0});var $=C(a);W(o.$$.fragment,$),u=I($),W(i.$$.fragment,$),$.forEach(g),d.forEach(g),this.h()},h(){v(a,"class","flex flex-row gap-2"),v(e,"class","grid h-screen w-screen grid-rows-[5%_75%_20%]")},m(_,d){V(_,e,d),Z(t,e,null),f(e,l),Z(n,e,null),f(e,s),f(e,a),Z(o,a,null),f(a,u),Z(i,a,null),h=!0},i(_){h||(B(t.$$.fragment,_),B(n.$$.fragment,_),B(o.$$.fragment,_),B(i.$$.fragment,_),_&&Oe(()=>{h&&(c||(c=ze(e,pe,{duration:500},!0)),c.run(1))}),h=!0)},o(_){U(t.$$.fragment,_),U(n.$$.fragment,_),U(o.$$.fragment,_),U(i.$$.fragment,_),_&&(c||(c=ze(e,pe,{duration:500},!1)),c.run(0)),h=!1},d(_){_&&g(e),X(t),X(n),X(o),X(i),_&&c&&c.end()}}}function Yl(r){let e,t="Fetching Data....";return{c(){e=m("div"),e.textContent=t},l(l){e=b(l,"DIV",{"data-svelte-h":!0}),P(e)!=="svelte-yau6sy"&&(e.textContent=t)},m(l,n){V(l,e,n)},i:q,o:q,d(l){l&&g(e)}}}function en(r){let e,t,l={ctx:r,current:null,token:null,hasCatch:!1,pending:Yl,then:Ql,catch:Kl,blocks:[,,,]};return Qt(r[0],l),{c(){e=Ne(),l.block.c()},l(n){e=Ne(),l.block.l(n)},m(n,s){V(n,e,s),l.block.m(n,l.anchor=s),l.mount=()=>e.parentNode,l.anchor=e,t=!0},p(n,[s]){r=n},i(n){t||(B(l.block),t=!0)},o(n){for(let s=0;s<3;s+=1){const a=l.blocks[s];U(a)}t=!1},d(n){n&&g(e),l.block.d(n),l.token=null,l=null}}}function tn(r){let e=Promise.resolve([]);return qt(tl),[e]}class un extends ve{constructor(e){super(),me(this,e,tn,en,ge,{})}}export{un as component};
