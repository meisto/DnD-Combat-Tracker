import{s as Lt,a as Mt,n as xt,r as St,o as Ut}from"../chunks/scheduler.2u-IS242.js";import{S as At,i as Pt,e as c,s as L,c as i,b as p,g as F,d as M,h,j as r,k as dt,l as n,z as Dt,m as Y,A as Ht,n as _t,B as Rt,v as ct,w as it,C as ut,y as ht,D as zt,E as Ft}from"../chunks/index.6e14F-yC.js";import{e as lt}from"../chunks/each.osoN_7aC.js";import{g as Yt}from"../chunks/entry.ugwizDdW.js";const qt=async()=>[],Jt=async()=>fetch("http://localhost:8070/api/enemy/all").then(l=>{if(!l.ok)throw new Error("Reponse not ok.");return l.json()}).catch(l=>{alert(l)}),Gt=async l=>fetch("http://localhost:8070/api/enemy/generate_enemies",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(t=>{if(!t.ok)throw new Error("Something went wrong while instanciating the characters.");return t.json()}).catch(t=>{alert(t)});function It(l,t,a){const s=l.slice();return s[16]=t[a],s}function Ot(l,t,a){const s=l.slice();return s[16]=t[a][0],s[19]=t[a][1],s}function Nt(l,t,a){const s=l.slice();return s[22]=t[a],s}function Bt(l){let t,a,s,d,_=!1,u,b,D=l[22].name+"",I,E,w,T,m;return w=Rt(l[9][0]),{c(){t=c("tr"),a=c("td"),s=c("input"),u=L(),b=c("td"),I=ct(D),E=L(),this.h()},l(O){t=i(O,"TR",{});var g=p(t);a=i(g,"TD",{});var y=p(a);s=i(y,"INPUT",{type:!0,class:!0}),y.forEach(h),u=M(g),b=i(g,"TD",{class:!0});var k=p(b);I=it(k,D),k.forEach(h),E=M(g),g.forEach(h),this.h()},h(){r(s,"type","checkbox"),r(s,"class","h-8 w-8 shadow ring-2 ring-black checked:shadow-xl"),s.__value=d=l[22],ut(s,s.__value),r(b,"class","w-64 pl-5 text-left font-bold"),w.p(s)},m(O,g){dt(O,t,g),n(t,a),n(a,s),s.checked=~(l[0]||[]).indexOf(s.__value),n(t,u),n(t,b),n(b,I),n(t,E),T||(m=Y(s,"change",l[8]),T=!0)},p(O,g){g&8&&d!==(d=O[22])&&(s.__value=d,ut(s,s.__value),_=!0),(_||g&9)&&(s.checked=~(O[0]||[]).indexOf(s.__value)),g&8&&D!==(D=O[22].name+"")&&ht(I,D)},d(O){O&&h(t),w.r(),T=!1,m()}}}function Vt(l){let t,a,s=l[16]+"",d,_,u,b="",D,I=l[19]+"",E,w,T,m,O="+",g,y,k,R="-",C,v,x,U="x",W,K,q;function J(){return l[11](l[16],l[19])}function G(){return l[12](l[16],l[19])}function nt(){return l[13](l[16])}return{c(){t=c("tr"),a=c("td"),d=ct(s),_=L(),u=c("td"),u.innerHTML=b,D=c("td"),E=ct(I),w=L(),T=c("td"),m=c("button"),m.textContent=O,g=L(),y=c("td"),k=c("button"),k.textContent=R,C=L(),v=c("td"),x=c("button"),x.textContent=U,W=L(),this.h()},l(j){t=i(j,"TR",{});var f=p(t);a=i(f,"TD",{class:!0});var Q=p(a);d=it(Q,s),_=M(Q),Q.forEach(h),u=i(f,"TD",{"data-svelte-h":!0}),F(u)!=="svelte-171oj0u"&&(u.innerHTML=b),D=i(f,"TD",{class:!0});var A=p(D);E=it(A,I),A.forEach(h),w=M(f),T=i(f,"TD",{class:!0});var st=p(T);m=i(st,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),F(m)!=="svelte-6ch97d"&&(m.textContent=O),st.forEach(h),g=M(f),y=i(f,"TD",{class:!0});var X=p(y);k=i(X,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),F(k)!=="svelte-u6a805"&&(k.textContent=R),X.forEach(h),C=M(f),v=i(f,"TD",{class:!0});var z=p(v);x=i(z,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),F(x)!=="svelte-j8ofs"&&(x.textContent=U),z.forEach(h),W=M(f),f.forEach(h),this.h()},h(){r(a,"class","overflow-hidden pl-5 text-left font-bold"),r(D,"class","w-10 text-center font-bold"),r(m,"type","button"),r(m,"class","btn h-full w-10"),r(T,"class","w-10"),r(k,"type","button"),r(k,"class","btn h-full w-full"),r(y,"class","w-10"),r(x,"type","button"),r(x,"class","btn h-full w-full"),r(v,"class","w-10")},m(j,f){dt(j,t,f),n(t,a),n(a,d),n(a,_),n(t,u),n(t,D),n(D,E),n(t,w),n(t,T),n(T,m),n(t,g),n(t,y),n(y,k),n(t,C),n(t,v),n(v,x),n(t,W),K||(q=[Y(m,"click",J),Y(k,"click",G),Y(x,"click",nt)],K=!0)},p(j,f){l=j,f&2&&s!==(s=l[16]+"")&&ht(d,s),f&2&&I!==(I=l[19]+"")&&ht(E,I)},d(j){j&&h(t),K=!1,St(q)}}}function jt(l){let t,a=l[16].name+"",s,d;return{c(){t=c("option"),s=ct(a),this.h()},l(_){t=i(_,"OPTION",{});var u=p(t);s=it(u,a),u.forEach(h),this.h()},h(){t.__value=d=l[16],ut(t,t.__value)},m(_,u){dt(_,t,u),n(t,s)},p(_,u){u&16&&a!==(a=_[16].name+"")&&ht(s,a),u&16&&d!==(d=_[16])&&(t.__value=d,ut(t,t.__value))},d(_){_&&h(t)}}}function Kt(l){let t,a,s,d="Select Combatants",_,u,b,D="Load Scenario",I,E,w,T,m,O="Choose Party",g,y,k,R,C,v,x,U,W="Choose Preset",K,q,J,G,nt,j,f,Q,A,st="+",X,z,vt='<button type="submit" class="btn">Submit</button>',ft,pt,Z=lt(l[3]),N=[];for(let o=0;o<Z.length;o+=1)N[o]=Bt(Nt(l,Z,o));let $=lt(l[1]),B=[];for(let o=0;o<$.length;o+=1)B[o]=Vt(Ot(l,$,o));let tt=lt(l[4]),V=[];for(let o=0;o<tt.length;o+=1)V[o]=jt(It(l,tt,o));return{c(){t=c("div"),a=c("div"),s=c("h1"),s.textContent=d,_=L(),u=c("form"),b=c("button"),b.textContent=D,I=L(),E=c("div"),w=c("div"),T=c("div"),m=c("button"),m.textContent=O,g=L(),y=c("div"),k=c("table"),R=c("tbody");for(let o=0;o<N.length;o+=1)N[o].c();C=L(),v=c("div"),x=c("div"),U=c("button"),U.textContent=W,K=L(),q=c("div"),J=c("table"),G=c("tbody");for(let o=0;o<B.length;o+=1)B[o].c();nt=L(),j=c("div"),f=c("select");for(let o=0;o<V.length;o+=1)V[o].c();Q=L(),A=c("button"),A.textContent=st,X=L(),z=c("div"),z.innerHTML=vt,this.h()},l(o){t=i(o,"DIV",{class:!0});var P=p(t);a=i(P,"DIV",{class:!0});var e=p(a);s=i(e,"H1",{class:!0,"data-svelte-h":!0}),F(s)!=="svelte-14ec0oy"&&(s.textContent=d),_=M(e),u=i(e,"FORM",{class:!0});var S=p(u);b=i(S,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),F(b)!=="svelte-117ltcr"&&(b.textContent=D),I=M(S),E=i(S,"DIV",{class:!0});var at=p(E);w=i(at,"DIV",{class:!0});var ot=p(w);T=i(ot,"DIV",{class:!0});var mt=p(T);m=i(mt,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),F(m)!=="svelte-pu7z5y"&&(m.textContent=O),mt.forEach(h),g=M(ot),y=i(ot,"DIV",{class:!0});var bt=p(y);k=i(bt,"TABLE",{class:!0});var gt=p(k);R=i(gt,"TBODY",{});var kt=p(R);for(let H=0;H<N.length;H+=1)N[H].l(kt);kt.forEach(h),gt.forEach(h),bt.forEach(h),ot.forEach(h),C=M(at),v=i(at,"DIV",{class:!0});var et=p(v);x=i(et,"DIV",{class:!0});var Et=p(x);U=i(Et,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),F(U)!=="svelte-17iopuf"&&(U.textContent=W),Et.forEach(h),K=M(et),q=i(et,"DIV",{class:!0});var Tt=p(q);J=i(Tt,"TABLE",{class:!0});var wt=p(J);G=i(wt,"TBODY",{});var yt=p(G);for(let H=0;H<B.length;H+=1)B[H].l(yt);yt.forEach(h),wt.forEach(h),Tt.forEach(h),nt=M(et),j=i(et,"DIV",{class:!0});var rt=p(j);f=i(rt,"SELECT",{class:!0});var Ct=p(f);for(let H=0;H<V.length;H+=1)V[H].l(Ct);Ct.forEach(h),Q=M(rt),A=i(rt,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),F(A)!=="svelte-mc3lst"&&(A.textContent=st),rt.forEach(h),et.forEach(h),at.forEach(h),X=M(S),z=i(S,"DIV",{class:!0,"data-svelte-h":!0}),F(z)!=="svelte-3kkhk3"&&(z.innerHTML=vt),S.forEach(h),e.forEach(h),P.forEach(h),this.h()},h(){r(s,"class","my-4 w-full text-center text-4xl font-bold text-tundora"),r(b,"type","button"),r(b,"class","btn"),r(m,"type","button"),r(m,"class","btn"),r(T,"class","flex flex-row items-center gap-2"),r(k,"class","table-auto"),r(y,"class","h-72 overflow-scroll p-2"),r(w,"class","flex flex-col items-center"),r(U,"type","button"),r(U,"class","btn"),r(x,"class","flex flex-row items-center gap-2"),r(J,"class","w-96 table-auto"),r(q,"class","h-72 overflow-scroll p-2"),r(f,"class","w-64 rounded-lg border"),l[2]===void 0&&Mt(()=>l[14].call(f)),r(A,"type","button"),r(A,"class","btn text-md w-10 font-bold"),r(j,"class","mt-4 flex w-full flex-row items-center justify-center gap-1"),r(v,"class","flex w-full flex-col items-center"),r(E,"class","grid grid-cols-1 md:grid-cols-2"),r(z,"class","mt-3 flex justify-center gap-1"),r(u,"class","flex flex-col items-center gap-2"),r(a,"class","parchment h-fit w-fit rounded-3xl p-2"),r(t,"class","flex h-fit w-screen flex-col items-center justify-center p-2 pt-8 md:mt-0 md:h-screen")},m(o,P){dt(o,t,P),n(t,a),n(a,s),n(a,_),n(a,u),n(u,b),n(u,I),n(u,E),n(E,w),n(w,T),n(T,m),n(w,g),n(w,y),n(y,k),n(k,R);for(let e=0;e<N.length;e+=1)N[e]&&N[e].m(R,null);n(E,C),n(E,v),n(v,x),n(x,U),n(v,K),n(v,q),n(q,J),n(J,G);for(let e=0;e<B.length;e+=1)B[e]&&B[e].m(G,null);n(v,nt),n(v,j),n(j,f);for(let e=0;e<V.length;e+=1)V[e]&&V[e].m(f,null);Dt(f,l[2],!0),n(j,Q),n(j,A),n(u,X),n(u,z),ft||(pt=[Y(b,"click",l[6]),Y(m,"click",l[7]),Y(U,"click",l[10]),Y(f,"change",l[14]),Y(A,"click",l[15]),Y(u,"submit",Ht(l[5]))],ft=!0)},p(o,[P]){if(P&9){Z=lt(o[3]);let e;for(e=0;e<Z.length;e+=1){const S=Nt(o,Z,e);N[e]?N[e].p(S,P):(N[e]=Bt(S),N[e].c(),N[e].m(R,null))}for(;e<N.length;e+=1)N[e].d(1);N.length=Z.length}if(P&2){$=lt(o[1]);let e;for(e=0;e<$.length;e+=1){const S=Ot(o,$,e);B[e]?B[e].p(S,P):(B[e]=Vt(S),B[e].c(),B[e].m(G,null))}for(;e<B.length;e+=1)B[e].d(1);B.length=$.length}if(P&16){tt=lt(o[4]);let e;for(e=0;e<tt.length;e+=1){const S=It(o,tt,e);V[e]?V[e].p(S,P):(V[e]=jt(S),V[e].c(),V[e].m(f,null))}for(;e<V.length;e+=1)V[e].d(1);V.length=tt.length}P&20&&Dt(f,o[2])},i:xt,o:xt,d(o){o&&h(t),_t(N,o),_t(B,o),_t(V,o),ft=!1,St(pt)}}}function Qt(l,t,a){let s=[],d=new Map,_=null,u=[],b=[];Ut(async()=>{const C=(v,x)=>v.name>x.name?-1:1;a(3,u=(await qt()).sort(C)),a(4,b=(await Jt()).sort(C))});const D=()=>{const C=Array.from(d,v=>({name:v[0],amount:v[1]}));Gt(C).then(()=>Yt("/initiative"))},I=[[]],E=()=>alert("Not Implemented"),w=()=>alert("Not Implemented");function T(){s=zt(I[0],this.__value,this.checked),a(0,s)}const m=()=>alert("Not Implemented"),O=(C,v)=>{d.set(C,v+1),a(1,d)},g=(C,v)=>{d.set(C,Math.max(v-1,1)),a(1,d)},y=C=>{d.delete(C),a(1,d)};function k(){_=Ft(this),a(2,_),a(4,b)}return[s,d,_,u,b,D,E,w,T,I,m,O,g,y,k,()=>{_!=null&&!d.has(_.name)&&(d.set(_.name,1),a(1,d))}]}class te extends At{constructor(t){super(),Pt(this,t,Qt,Kt,Lt,{})}}export{te as component};
